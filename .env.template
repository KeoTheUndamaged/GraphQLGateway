# ===========================================
# GraphQL Gateway Configuration
# ===========================================

# =====================================
# Server Configuration
# =====================================
NODE_ENV=production
PORT=4000
LOG_LEVEL=info
SERVICE_NAME=graphql-gateway
SERVICE_VERSION=1.0.0

# =====================================
# CORS Configuration
# =====================================
CORS_ALLOWED_DOMAIN=localhost

# =====================================
# GraphQL Configuration
# =====================================
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_INTROSPECTION=false
ALLOWED_BATCHED_REQUESTS=false
PRODUCTS_SERVICE_TOKEN=123456789

# =====================================
# Rate Limiting Configuration
# =====================================
ENABLE_RATE_LIMIT=false
RATE_LIMIT_WINDOW_MS=1
RATE_LIMIT_MAX=1

# =====================================
# Circuit Breaker Configuration
# =====================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60000
CIRCUIT_BREAKER_MONITORING_PERIOD=10000
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3
CIRCUIT_BREAKER_MINIMUM_CALLS=10

# =====================================
# Apollo Armour Security Configuration
# =====================================
ENABLE_BLOCK_FIELD_SUGGESTION=true
BLOCK_FIELD_SUGGESTION_MASK=<[REDACTED]>
ENABLE_COST_LIMIT=true
COST_LIMIT_MAX_COST=10000
COST_LIMIT_OBJECT_COST=2
COST_LIMIT_SCALAR_COST=1
COST_LIMIT_DEPTH_COST_FACTOR=1.5
COST_LIMIT_IGNORE_INTROSPECTION=true
ENABLE_MAX_DEPTH=true
MAX_DEPTH_LIMIT=15
MAX_DEPTH_FLATTEN_FRAGMENTS=false
ENABLE_MAX_ALIASES=true
MAX_ALIASES_LIMIT=50
ENABLE_MAX_DIRECTIVES=true
MAX_DIRECTIVES_LIMIT=100
ENABLE_MAX_TOKENS=true
MAX_TOKENS_LIMIT=2000

# =====================================
# OpenTelemetry Configuration
# =====================================
OPEN_TELEMETRY_SERVICE_NAMESPACE=graphql-gateway
ENABLE_OPEN_TELEMETRY_METRICS=true
ENABLE_OPEN_TELEMETRY_TRACES=true
OPEN_TELEMETRY_TRACES_HEADERS={}
OPEN_TELEMETRY_METRICS_HEADERS={}
OPEN_TELEMETRY_TRACES_ENDPOINT_URL=http://localhost:4318/v1/traces
OPEN_TELEMETRY_METRICS_ENDPOINT_URL=http://localhost:4318/v1/metrics
OPEN_TELEMETRY_SAMPLING_RATE=1.0